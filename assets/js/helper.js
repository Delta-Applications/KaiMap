"use strict";function notify(e,t,o){var n={body:t,silent:!0};"Notification"in window?"granted"===Notification.permission?new Notification(e,n):"denied"!==Notification.permission&&Notification.requestPermission().then((function(t){"granted"===t&&new Notification(e,n)})):alert("This browser does not support desktop notification")}let toaster=function(e,t){document.querySelector("div#toast").innerText=e;var o,n=document.querySelector("div#toast"),r=-100,i=setInterval((function(){0==r?(clearInterval(i),setTimeout((()=>{o=setInterval(u,5)}),t)):(r++,n.style.top=r+"px")}),5);function u(){-1e3==r?clearInterval(o):(r--,n.style.top=r+"px")}};function user_input(e,t){if("open"==e&&(document.querySelector("div#user-input").style.bottom="0px",document.querySelector("div#user-input input").focus(),document.querySelector("div#user-input input").value=t,windowOpen="user-input"),"close"==e&&(document.querySelector("div#user-input").style.bottom="-1000px",document.querySelector("div#user-input input").blur(),windowOpen="map"),"return"==e){let e=document.querySelector("div#user-input input").value;return document.querySelector("div#user-input").style.bottom="-1000px",document.querySelector("div#user-input input").blur(),e}}function localStorageWriteRead(e,t){return""!=e&&""!=t&&"undefined"!=t&&"undefined"!=e&&localStorage.setItem(e,t),localStorage.getItem(e)}function deleteFile(e,t,o){let n=navigator.getDeviceStorages("sdcard")[e].delete(t);n.onsuccess=function(){"notification"==o&&toaster('File "'+name+'" successfully deleted frome the sdcard storage area')},n.onerror=function(){toaster("Unable to delete the file: "+this.error)}}function bottom_bar(e,t,o){document.querySelector("div#bottom-bar div#button-left").textContent=e,document.querySelector("div#bottom-bar div#button-center").textContent=t,document.querySelector("div#bottom-bar div#button-right").textContent=o,document.querySelector("div#bottom-bar").style.display=""==e&&""==t&&""==o?"none":"block"}function top_bar(e,t,o){document.querySelector("div#top-bar div.button-left").textContent=e,document.querySelector("div#top-bar div.button-center").textContent=t,document.querySelector("div#top-bar div.button-right").textContent=o,document.querySelector("div#top-bar").style.display=""==e&&""==t&&""==o?"none":"block"}function screenWakeLock(e){let t;"lock"==e&&(t=window.navigator.requestWakeLock("screen")),"unlock"==e&&"screen"==t.topic&&t.unlock()}let add_file=function(){var e=navigator.getDeviceStorage("sdcard"),t=new Blob(['[{"markers":[]}]'],{type:"application/json"}),o=e.addNamed(t,"delta.map.json");o.onsuccess=function(){this.result,toaster("Please repeat the last action again.",2e3)},o.onerror=function(){alert("Unable to write the file: "+this.error)}},now=function(){let e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+e.getHours()+"-"+e.getMinutes()+"-"+e.getSeconds()};
